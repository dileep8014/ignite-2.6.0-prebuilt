<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_172) on Fri Oct 05 08:41:13 UTC 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Epoch (Ignite 2.6.0)</title>
<meta name="date" content="2018-10-05">
<link rel="stylesheet" type="text/css" href="../../../../../../javadoc.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Epoch (Ignite 2.6.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Epoch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Ignite - In-Memory Data Fabric</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/ignite/internal/util/snaptree/CopyOnWriteManager.html" title="class in org.apache.ignite.internal.util.snaptree"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/ignite/internal/util/snaptree/Epoch.html" target="_top">Frames</a></li>
<li><a href="Epoch.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.ignite.internal.util.snaptree</div>
<h2 title="Class Epoch" class="title">Class Epoch</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.ignite.internal.util.snaptree.Epoch</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Epoch</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A <code>Epoch</code> has a lifecycle consisting of three phases: active,
  closing, and closed.  During the active phase partipants may arrive and
  leave the epoch.  Once a close has been requested, new participants are not
  allowed, only leaving is possible.  Once close has been requested and all
  participants have left, the epoch is transitioned to the closed state.
  <p>
  Entry is performed with <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#attemptArrive--"><code>attemptArrive()</code></a>, which returns a non-null
  ticket on success or null if <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#beginClose--"><code>beginClose()</code></a> has already been called.
  Each successful call to <code>attemptArrive</code> must be paired by a call
  to <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html#leave-int-"><code>Epoch.Ticket.leave(int)</code></a> on the returned ticket.
  <p>
  The abstract method <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#onClosed-int-"><code>onClosed(int)</code></a> will be invoked exactly once after
  the epoch becomes closed.  It will be passed the sum of the values passed
  to <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html#leave-int-"><code>Epoch.Ticket.leave(int)</code></a>.  There is no way to query the current participant
  count or state of the epoch without changing it.
  <p>
  Internally the epoch responds to contention by increasing its size,
  striping the participant count across multiple objects (and hopefully
  multiple cache lines).  Once close has begun, the epoch converts itself to
  a single-shot hierarchical barrier, that also performs a hierarchical
  reduction of the leave parameters.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree">Epoch.Ticket</a></span></code>
<div class="block">Represents a single successful arrival to an <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html" title="class in org.apache.ignite.internal.util.snaptree"><code>Epoch</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#Epoch--">Epoch</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree">Epoch.Ticket</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#attemptArrive--">attemptArrive</a></span>()</code>
<div class="block">Returns a <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree"><code>Epoch.Ticket</code></a> indicating a successful arrival, if no call to
  <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#beginClose--"><code>beginClose()</code></a> has been made for this epoch, or returns null if
  close has already begun.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#beginClose--">beginClose</a></span>()</code>
<div class="block">Prevents new arrivals from succeeding, then returns immediately.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#onClosed-int-">onClosed</a></span>(int&nbsp;dataSum)</code>
<div class="block">Override this method to provide user-defined behavior.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Epoch--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Epoch</h4>
<pre>public&nbsp;Epoch()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="attemptArrive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attemptArrive</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree">Epoch.Ticket</a>&nbsp;attemptArrive()</pre>
<div class="block">Returns a <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree"><code>Epoch.Ticket</code></a> indicating a successful arrival, if no call to
  <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#beginClose--"><code>beginClose()</code></a> has been made for this epoch, or returns null if
  close has already begun.  <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html#leave-int-"><code>Epoch.Ticket.leave(int)</code></a> must be called exactly
  once on any returned ticket.</div>
</li>
</ul>
<a name="beginClose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginClose</h4>
<pre>public&nbsp;void&nbsp;beginClose()</pre>
<div class="block">Prevents new arrivals from succeeding, then returns immediately.
  <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#onClosed-int-"><code>onClosed(int)</code></a> will be called after all outstanding tickets have
  been returned.  To block until close is complete, add some sort of
  synchronization logic to the user-defined implementation of <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.html#onClosed-int-"><code>onClosed(int)</code></a>.</div>
</li>
</ul>
<a name="onClosed-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onClosed</h4>
<pre>protected abstract&nbsp;void&nbsp;onClosed(int&nbsp;dataSum)</pre>
<div class="block">Override this method to provide user-defined behavior.
  <code>dataSum</code> will be the sum of the <code>data</code> values
  passed to <a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html#leave-int-"><code>Epoch.Ticket.leave(int)</code></a> for all tickets in this epoch.
  <p>
  As a simple example, a blocking close operation may be defined by:<pre>
    class BlockingEpoch extends Epoch {
        private final CountDownLatch _closed = new CountDownLatch(1);

        public void blockingClose() throws InterruptedException {
            beginClose();
            _closed.await();
        }

        protected void onClosed(int dataSum) {
            _closed.countDown(1);
        }
    }
  </pre></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Epoch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Ignite - In-Memory Data Fabric</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/ignite/internal/util/snaptree/CopyOnWriteManager.html" title="class in org.apache.ignite.internal.util.snaptree"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/ignite/internal/util/snaptree/Epoch.Ticket.html" title="interface in org.apache.ignite.internal.util.snaptree"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/ignite/internal/util/snaptree/Epoch.html" target="_top">Frames</a></li>
<li><a href="Epoch.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><table width="100%" border="0" cellspacing=0 cellpadding=0 style="padding: 5px">                                     <tr>                                         <td>                                             <table style="padding-left: 0; margin: 0">                                                 <tbody style="padding: 0; margin: 0">                                                     <tr style="padding: 0; margin: 0">                                                         <td>                                                             <a target=_blank href="https://ignite.apache.org"><nobr>2018 Copyright &#169; Apache Software Foundation</nobr></a>                                                         </td>                                                     </tr>                                                 </tbody>                                             </table>                                         </td>                                         <td width="100%" align="right" valign="center">                                             <a href="https://twitter.com/ApacheIgnite" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @ApacheIgnite</a>                                         </td>                                     </tr>                                     <tr>                                         <td colspan="2" valign="top" align="left">                                             <table style="padding-left: 0; margin: 0">                                                 <tbody style="padding: 0; margin: 0">                                                     <tr style="padding: 0; margin: 0">                                                         <td>                                                             <b>Ignite Fabric</b>                                                         </td>                                                         <td>:&nbsp;&nbsp;                                                             ver. <strong>2.6.0</strong>                                                         </td>                                                     </tr>                                                     <tr style="padding: 0; margin: 0">                                                         <td>                                                             <b>Release Date</b>                                                         </td>                                                         <td>:&nbsp;&nbsp;                                                             October 5 2018                                                         </td>                                                     </tr>                                                 </tbody>                                             </table>                                         </td>                                     </tr>                                     </table></small></p>
</body>
</html>
